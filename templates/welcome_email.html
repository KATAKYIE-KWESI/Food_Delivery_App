{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome to JollyFoods!</title>
    <style type="text/css">
        body, table, td, a { -webkit-text-size-adjust: 100%; -ms-text-size-adjust: 100%; }
        table, td { mso-table-lspace: 0pt; mso-table-rspace: 0pt; }
        a { text-decoration: none; color: #ff6347; } /* Tomato color */

        /* Specific Styles */
        .header-bg { background-color: #ff6347; } /* Tomato Header */
        .content-area { background-color: #ffffff; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.05); }
        .discount-box { background-color: #fff8e1; border: 1px solid #ffcc80; border-radius: 8px; }
        .discount-code { font-size: 36px; font-weight: 900; color: #2c3e50; letter-spacing: 3px; } /* Dark blue-gray for emphasis */
        .cta-button { border-radius: 50px; background-color: #ff6347; color: #ffffff !important; display: inline-block; font-size: 16px; font-weight: bold; padding: 12px 30px; }
    </style>
</head>
<body style="margin: 0; padding: 0; font-family: Arial, sans-serif; background-color: #f0f2f5;">

    <table border="0" cellpadding="0" cellspacing="0" width="100%" style="border-collapse: collapse; background-color: #f0f2f5;">
        <tr>
            <td align="center" style="padding: 40px 0;">

                <table border="0" cellpadding="0" cellspacing="0" width="600" class="content-area" style="border-collapse: collapse; max-width: 600px;">

                    <tr>
                        <td align="center" class="header-bg" style="padding: 30px 0; border-radius: 12px 12px 0 0;">
                            <h1 style="font-size: 32px; color: #ffffff; margin: 0; font-weight: 700;">
                                <i class="fa-solid fa-utensils" style="margin-right: 10px;"></i> JollyFoods
                            </h1>
                        </td>
                    </tr>

                    <tr>
                        <td style="padding: 40px; text-align: left; color: #333333;">
                            <h2 style="font-size: 24px; color: #2c3e50; margin: 0 0 15px 0;">Hello, {{ username }}!</h2>

                            <p style="font-size: 16px; line-height: 1.6; margin-bottom: 30px;">
                                Thank you for joining JollyFoods! We are excited to bring delicious, quality meals right to your doorstep.
                            </p>

                            <table border="0" cellpadding="0" cellspacing="0" width="100%" class="discount-box" style="border-collapse: collapse; margin: 30px 0;">
                                <tr>
                                    <td align="center" style="padding: 30px 20px;">
                                        <p style="font-size: 18px; color: #333333; margin: 0 0 15px 0; font-weight: bold;">
                                            Your 20% Welcome Gift:
                                        </p>
                                        <span class="discount-code" style="display: block; margin-bottom: 15px;">{{ discount_code }}</span>
                                        <p style="font-size: 14px; color: #666666; margin: 0;">
                                            Use this code at checkout for 20% off your first order!
                                        </p>
                                    </td>
                                </tr>
                            </table>

                            <table border="0" cellpadding="0" cellspacing="0" width="100%" style="border-collapse: collapse; margin-top: 30px;">
                                <tr>
                                    <td align="center">
                                        <a href="{{ base_url }}{% url 'menu' %}" class="cta-button" target="_blank" style="text-decoration: none;">
                                            Start Ordering Now
                                        </a>
                                    </td>
                                </tr>
                            </table>

                            <p style="margin-top: 40px; font-size: 14px; color: #666666;">
                                Happy eating! <br/>
                                The JollyFoods Team
                            </p>
                        </td>
                    </tr>

                    <tr>
                        <td align="center" style="padding: 20px 40px; font-size: 12px; color: #999999; border-top: 1px solid #f0f0f0; background-color: #f7f7f7; border-radius: 0 0 12px 12px;">
                            <p style="margin: 0;">&copy; {% now "Y" %} JollyFoods. All rights reserved.</p>
                            <p style="margin: 5px 0 0 0;">Questions? Contact us at <a href="mailto:{{ DEFAULT_FROM_EMAIL }}" style="color: #ff6347;">{{ DEFAULT_FROM_EMAIL }}</a></p>
                        </td>
                    </tr>

                </table>
                </td>
        </tr>
    </table>
</body>
</html>